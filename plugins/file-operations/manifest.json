{
  "id": "file-operations",
  "name": "File Operations",
  "description": "Read, write, and list files and directories on the host system.",
  "version": "2.1.0",
  "category": "system",
  "settings": [
    {
      "name": "allow_read",
      "label": "Allow Read",
      "type": "boolean",
      "default": "true",
      "description": "Allow reading file contents."
    },
    {
      "name": "allow_write",
      "label": "Allow Write",
      "type": "boolean",
      "default": "true",
      "description": "Allow writing and creating files."
    },
    {
      "name": "allow_delete",
      "label": "Allow Delete",
      "type": "boolean",
      "default": "false",
      "description": "Allow deleting files and empty directories."
    },
    {
      "name": "sandbox_path",
      "label": "Sandbox Path",
      "type": "string",
      "default": "",
      "description": "If set, restrict all file operations to this directory. Leave empty for unrestricted access."
    }
  ],
  "functions": [
    {
      "name": "read",
      "description": "Read the contents of a file.",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Absolute or relative path to the file."
          },
          "encoding": {
            "type": "string",
            "description": "File encoding. Defaults to 'utf-8'."
          },
          "maxLines": {
            "type": "number",
            "description": "Maximum number of lines to read. Reads entire file if not specified."
          }
        },
        "required": ["path"]
      }
    },
    {
      "name": "write",
      "description": "Write content to a file. Creates the file if it does not exist. Creates parent directories as needed.",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Absolute or relative path to the file."
          },
          "content": {
            "type": "string",
            "description": "Content to write to the file."
          },
          "encoding": {
            "type": "string",
            "description": "File encoding. Defaults to 'utf-8'."
          },
          "append": {
            "type": "boolean",
            "description": "If true, append to the file instead of overwriting. Defaults to false."
          }
        },
        "required": ["path", "content"]
      }
    },
    {
      "name": "list",
      "description": "List the contents of a directory.",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Absolute or relative path to the directory."
          }
        },
        "required": ["path"]
      }
    },
    {
      "name": "delete",
      "description": "Delete a file or empty directory.",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Absolute or relative path to the file or empty directory to delete."
          }
        },
        "required": ["path"]
      }
    }
  ]
}

{
  "id": "google",
  "name": "Google Workspace",
  "description": "Access Gmail, Calendar, Drive, Sheets, Docs, and Slides.",
  "version": "1.0.0",
  "logName": "google",
  "category": "productivity",
  "credentials": [
    { "name": "client_id", "label": "OAuth Client ID", "required": true },
    { "name": "client_secret", "label": "OAuth Client Secret", "required": true }
  ],
  "oauth": {
    "provider": "google",
    "scopes": [
      "https://www.googleapis.com/auth/gmail.modify",
      "https://www.googleapis.com/auth/calendar",
      "https://www.googleapis.com/auth/drive",
      "https://www.googleapis.com/auth/spreadsheets",
      "https://www.googleapis.com/auth/documents",
      "https://www.googleapis.com/auth/presentations"
    ],
    "authorizeUrl": "/api/oauth/google/authorize"
  },
  "settings": [
    {
      "name": "gmail_poll_interval_minutes",
      "label": "Gmail poll interval (minutes)",
      "type": "number",
      "default": "5",
      "description": "How often to check for new emails"
    },
    {
      "name": "calendar_poll_interval_minutes",
      "label": "Calendar poll interval (minutes)",
      "type": "number",
      "default": "5",
      "description": "How often to check for calendar changes and upcoming events"
    },
    {
      "name": "calendar_reminder_minutes",
      "label": "Calendar reminder lead time (minutes)",
      "type": "number",
      "default": "15",
      "description": "How many minutes before an event to fire a reminder"
    },
    {
      "name": "drive_poll_interval_minutes",
      "label": "Drive poll interval (minutes)",
      "type": "number",
      "default": "10",
      "description": "How often to check for newly shared files"
    }
  ],
  "triggers": [
    {
      "id": "gmail_new_email",
      "label": "Gmail: New email received",
      "description": "Fires when new emails arrive in your inbox"
    },
    {
      "id": "calendar_reminder",
      "label": "Google Calendar: Upcoming event reminder",
      "description": "Fires when a calendar event is approaching (configurable lead time)"
    },
    {
      "id": "calendar_event_changed",
      "label": "Google Calendar: Event created or updated",
      "description": "Fires when events are added or modified on your calendar"
    },
    {
      "id": "calendar_event_cancelled",
      "label": "Google Calendar: Event cancelled",
      "description": "Fires when a calendar event is cancelled"
    },
    {
      "id": "calendar_invite",
      "label": "Google Calendar: New invitation",
      "description": "Fires when you receive a new event invitation requiring RSVP"
    },
    {
      "id": "drive_file_shared",
      "label": "Google Drive: New file shared",
      "description": "Fires when a new file is shared with you in Google Drive"
    }
  ],
  "functions": [
    {
      "name": "gmail_search",
      "description": "Search emails in Gmail. Returns a list of matching email snippets.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Gmail search query (e.g. 'from:alice subject:meeting is:unread')"
          },
          "maxResults": {
            "type": "number",
            "description": "Maximum number of results to return. Defaults to 10."
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "gmail_read",
      "description": "Read a specific email by its message ID. Returns full message content.",
      "parameters": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "The Gmail message ID to read."
          }
        },
        "required": ["messageId"]
      }
    },
    {
      "name": "gmail_send",
      "description": "Send a new email.",
      "parameters": {
        "type": "object",
        "properties": {
          "to": {
            "type": "string",
            "description": "Recipient email address."
          },
          "subject": {
            "type": "string",
            "description": "Email subject line."
          },
          "body": {
            "type": "string",
            "description": "Email body text."
          }
        },
        "required": ["to", "subject", "body"]
      }
    },
    {
      "name": "gmail_reply",
      "description": "Reply to an existing email thread.",
      "parameters": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "The Gmail message ID to reply to."
          },
          "body": {
            "type": "string",
            "description": "Reply body text."
          }
        },
        "required": ["messageId", "body"]
      }
    },
    {
      "name": "gmail_archive",
      "description": "Archive an email by removing it from the inbox. The email remains accessible in All Mail.",
      "parameters": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "The Gmail message ID to archive."
          }
        },
        "required": ["messageId"]
      }
    },
    {
      "name": "calendar_list_events",
      "description": "List upcoming calendar events within a time range.",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "description": "Calendar ID. Defaults to 'primary'."
          },
          "timeMin": {
            "type": "string",
            "description": "Start of time range in ISO 8601 format (e.g. '2025-01-01T00:00:00Z')."
          },
          "timeMax": {
            "type": "string",
            "description": "End of time range in ISO 8601 format."
          },
          "maxResults": {
            "type": "number",
            "description": "Maximum number of events. Defaults to 10."
          }
        },
        "required": []
      }
    },
    {
      "name": "calendar_create_event",
      "description": "Create a new calendar event.",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "description": "Calendar ID. Defaults to 'primary'."
          },
          "summary": {
            "type": "string",
            "description": "Event title."
          },
          "description": {
            "type": "string",
            "description": "Event description."
          },
          "start": {
            "type": "string",
            "description": "Start time in ISO 8601 format."
          },
          "end": {
            "type": "string",
            "description": "End time in ISO 8601 format."
          },
          "attendees": {
            "type": "array",
            "items": { "type": "string" },
            "description": "List of attendee email addresses."
          }
        },
        "required": ["summary", "start", "end"]
      }
    },
    {
      "name": "drive_list",
      "description": "List files in Google Drive.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Drive search query (e.g. \"name contains 'report'\"). See Google Drive API query docs."
          },
          "maxResults": {
            "type": "number",
            "description": "Maximum number of files. Defaults to 10."
          }
        },
        "required": []
      }
    },
    {
      "name": "drive_read",
      "description": "Read a file's content from Google Drive. Works best with Google Docs, Sheets, and text files.",
      "parameters": {
        "type": "object",
        "properties": {
          "fileId": {
            "type": "string",
            "description": "The Drive file ID."
          }
        },
        "required": ["fileId"]
      }
    },
    {
      "name": "sheets_read",
      "description": "Read data from a Google Spreadsheet.",
      "parameters": {
        "type": "object",
        "properties": {
          "spreadsheetId": {
            "type": "string",
            "description": "The spreadsheet ID."
          },
          "range": {
            "type": "string",
            "description": "A1 notation range (e.g. 'Sheet1!A1:D10')."
          }
        },
        "required": ["spreadsheetId", "range"]
      }
    },
    {
      "name": "sheets_write",
      "description": "Write data to a Google Spreadsheet.",
      "parameters": {
        "type": "object",
        "properties": {
          "spreadsheetId": {
            "type": "string",
            "description": "The spreadsheet ID."
          },
          "range": {
            "type": "string",
            "description": "A1 notation range (e.g. 'Sheet1!A1:D10')."
          },
          "values": {
            "type": "array",
            "items": {
              "type": "array",
              "items": { "type": "string" }
            },
            "description": "2D array of values to write (rows of cells)."
          }
        },
        "required": ["spreadsheetId", "range", "values"]
      }
    },
    {
      "name": "docs_read",
      "description": "Read the text content of a Google Doc.",
      "parameters": {
        "type": "object",
        "properties": {
          "documentId": {
            "type": "string",
            "description": "The Google Docs document ID."
          }
        },
        "required": ["documentId"]
      }
    },
    {
      "name": "slides_read",
      "description": "Read the text content of a Google Slides presentation.",
      "parameters": {
        "type": "object",
        "properties": {
          "presentationId": {
            "type": "string",
            "description": "The Google Slides presentation ID."
          }
        },
        "required": ["presentationId"]
      }
    }
  ]
}
